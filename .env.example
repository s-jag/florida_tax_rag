# =============================================================================
# Florida Tax RAG - Environment Configuration
# =============================================================================
# Copy this file to .env and fill in your values.
# See docs/configuration.md for detailed documentation.
# =============================================================================

# =============================================================================
# Environment Settings
# =============================================================================

# Runtime environment: development, staging, production
ENV=development

# Enable debug mode (verbose logging, detailed errors)
DEBUG=true

# Logging level: DEBUG, INFO, WARNING, ERROR, CRITICAL
LOG_LEVEL=INFO

# =============================================================================
# API Keys (Required)
# =============================================================================

# Voyage AI - Legal document embeddings (voyage-law-2 model)
# Get your key at: https://www.voyageai.com/
VOYAGE_API_KEY=your_voyage_api_key_here

# Anthropic - Claude LLM for generation
# Get your key at: https://console.anthropic.com/
ANTHROPIC_API_KEY=your_anthropic_api_key_here

# Neo4j - Knowledge graph database password
NEO4J_PASSWORD=your_neo4j_password_here

# =============================================================================
# API Keys (Optional)
# =============================================================================

# OpenAI - GPT-4 for evaluation judge (optional)
# Only needed if running evaluations with LLM judge
# Get your key at: https://platform.openai.com/
OPENAI_API_KEY=

# Weaviate - Vector store API key (optional)
# Only needed for Weaviate Cloud deployments
WEAVIATE_API_KEY=

# =============================================================================
# Neo4j Configuration
# =============================================================================

# Connection URI (bolt:// for local, neo4j+s:// for cloud)
NEO4J_URI=bolt://localhost:7687

# Username (default: neo4j)
NEO4J_USER=neo4j

# Connection timeout in seconds
NEO4J_CONNECTION_TIMEOUT=30

# Maximum connection pool size
NEO4J_MAX_CONNECTION_POOL_SIZE=50

# =============================================================================
# Weaviate Configuration
# =============================================================================

# Weaviate server URL
WEAVIATE_URL=http://localhost:8080

# Request timeout in seconds
WEAVIATE_TIMEOUT=30

# =============================================================================
# Redis Configuration
# =============================================================================

# Redis connection URL (preferred)
REDIS_URL=redis://localhost:6379/0

# Alternative: Individual settings (legacy)
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_DB=0

# =============================================================================
# Retrieval Settings
# =============================================================================

# Number of documents to retrieve
RETRIEVAL_TOP_K=20

# Hybrid search alpha: 0.0=keyword only, 1.0=vector only
# Optimal for legal queries: 0.25 (keyword-heavy hybrid)
HYBRID_ALPHA=0.25

# Enable graph expansion for related documents
EXPAND_GRAPH=true

# Maximum graph traversal hops
MAX_GRAPH_HOPS=2

# =============================================================================
# Generation Settings
# =============================================================================

# Claude model for generation
LLM_MODEL=claude-sonnet-4-20250514

# LLM temperature (0.0-2.0, lower = more deterministic)
LLM_TEMPERATURE=0.1

# Maximum response tokens
MAX_TOKENS=4096

# LLM request timeout in seconds
LLM_TIMEOUT=60

# =============================================================================
# Embedding Settings
# =============================================================================

# Voyage embedding model
EMBEDDING_MODEL=voyage-law-2

# Batch size for embedding requests
EMBEDDING_BATCH_SIZE=128

# Embedding cache TTL in seconds (default: 24 hours)
EMBEDDING_CACHE_TTL=86400

# =============================================================================
# Rate Limits
# =============================================================================

# API rate limit per minute per client
RATE_LIMIT_PER_MINUTE=60

# Voyage AI requests per minute
VOYAGE_REQUESTS_PER_MINUTE=300

# Anthropic requests per minute
ANTHROPIC_REQUESTS_PER_MINUTE=60
